/*! 2018-04-18 15:51:49 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["grey"]=t():e["grey"]=t()}(window,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={"i":r,"l":!1,"exports":{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{"configurable":!1,"enumerable":!0,"get":r})},n.r=function(e){Object.defineProperty(e,"__esModule",{"value":!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t,n){"use strict";t.__esModule=!0,t["default"]=void 0;var r=document.head||document.getElementsByTagName("head")[0];var o=function(e,t){var n=document.createElement("script");function o(){n.onreadystatechange=n.onload=null,r.removeChild(n),n=null,t({"from":"script"})}n.charset="utf-8",n.async=!0,"onload"in n?n.onload=o:n.onreadystatechange=function(){/loaded|complete/.test(n.readyState)&&o()},n.src=e,r.appendChild(n)};t["default"]=o},function(e,t,n){"use strict";function r(e,t){return e+Math.floor(Math.random()*(t-e+1))}function o(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}t.__esModule=!0,t.random=r,t.bingo=function(e,t){return r(1,t)<=e},t.extend=o,t.curry=function(e,t){return function(n){return e.call(null,o(n||{},t))}},t.isFunction=t.isArray=void 0;var a=Array.isArray||i("Array");t.isArray=a;var u=i("Function");function i(e){return function(t){return{}.toString.call(t)=="[object "+e+"]"}}t.isFunction=u},function(e,t,n){"use strict";var r,o=n(1),a=(r=n(0))&&r.__esModule?r:{"default":r};var u=window,i=document,c=u.XDomainRequest,s=u.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest,f=function(){},l=i.getElementsByTagName("script")[0];function d(e){if(e)try{var t=i.createElement("script");t.appendChild(i.createTextNode(e)),l.parentNode.insertBefore(t,l)}catch(n){(u.execScript||function(e){u["eval"].call(u,e)})(e)}}e.exports=function(e){var t,n;t=(e=(0,o.extend)({"before":f,"after":f,"stable":{"url":"","key":"","hash":""},"grey":{"url":"","key":"","hash":""},"hash":function(e){return e},"base":100,"ratio":1,"timeout":1e4},e)).ratio>=e.base||(0,o.bingo)(e.ratio,e.base)?(0,o.extend)({"type":"grey"},e.grey):(0,o.extend)({"type":"stable"},e.stable);var r=e.hash,u=(0,o.curry)(e.after,t),i=t,l=i.key,p=i.url,y=i.hash;if(e.before(t),l&&(s||c)&&(0,o.isFunction)(r))try{(n=localStorage.getItem(l)||"")&&y===r(n,t)?(d(n),u({"from":"local"})):function(e,t,n,r){var o,a=function(){o.status>=200&&o.status<300||304==o.status||1223===o.status?t(o.responseText||""):n()};s?(o=new XMLHttpRequest).open("GET",e,!0):(o=new XDomainRequest).open("GET",e),"onload"in o?o.onload=a:o.onreadystatechange=function(){4===o.readyState&&a()},"onerror"in o&&(o.onerror=n);try{o.timeout=r,o.ontimeout=n}catch(u){setTimeout(n,r)}o.send()}(p,function(e){localStorage.setItem(l,e),d(e),u({"from":"cors"})},function(){(0,a["default"])(p,u)},e.timeout)}catch(m){(0,a["default"])(p,u)}else(0,a["default"])(p,u)}}])});